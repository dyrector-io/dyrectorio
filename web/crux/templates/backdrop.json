{
  "name": "backdrop",
  "description": "The comprehensive CMS for small to medium sized businesses and non-profits.",
  "registries": [
    {
      "name": "Docker Hub Library",
      "type": "hub",
      "hub": {
        "imageNamePrefix": "library"
      }
    }
  ],
  "images": [
    {
      "name": "backdrop-db",
      "registryName": "Docker Hub Library",
      "image": "mariadb",
      "tag": "latest",
      "config": {
        "name": "backdrop-db",
        "volumes": [
          {
            "name": "mariadb",
            "path": "/var/lib/mysql",
            "type": "rw"
          }
        ],
        "environment": [
          {
            "key": "MYSQL_RANDOM_ROOT_PASSWORD",
            "value": "1"
          },
          {
            "key": "MYSQL_USER",
            "value": "backdropuser"
          },
          {
            "key": "MYSQL_DATABASE",
            "value": "backdrop"
          },
          {
            "key": "MYSQL_PASSWORD",
            "value": "1234"
          }
        ],
        "secrets": [],
        "networks": ["backdrop-network"],
        "networkMode": "bridge",
        "restartPolicy": "unless_stopped",
        "deploymentStrategy": "recreate"
      }
    },
    {
      "name": "backdrop-app",
      "registryName": "Docker Hub Library",
      "image": "backdrop",
      "tag": "apache",
      "config": {
        "name": "backdrop-app",
        "volumes": [
          {
            "name": "files",
            "path": "/var/www/html/files",
            "type": "rw"
          },
          {
            "name": "sites",
            "path": "/var/www/html/sites"
          },
          {
            "name": "layouts",
            "path": "/var/www/html/layouts"
          },
          {
            "name": "modules",
            "path": "/var/www/html/modules"
          },
          {
            "name": "themes",
            "path": "/var/www/html/themes"
          }
        ],
        "ports": [
          {
            "external": 6701,
            "internal": 80
          }
        ],
        "environment": [
          {
            "key": "BACKDROP_DB_HOST",
            "value": "backdrop-backdrop-db"
          },
          {
            "key": "BACKDROP_DB_PORT",
            "value": 3306
          },
          {
            "key": "BACKDROP_DB_NAME",
            "value": "backdrop"
          },
          {
            "key": "BACKDROP_DB_USER",
            "value": "backdropuser"
          },
          {
            "key": "BACKDROP_DB_DRIVER",
            "value": "mysql"
          },
          {
            "key": "BACKDROP_DB_PASSWORD",
            "value": "1234"
          }
        ],
        "secrets": [],
        "networks": ["backdrop-network"],
        "networkMode": "bridge",
        "restartPolicy": "unless_stopped",
        "deploymentStrategy": "recreate"
      }
    }
  ]
}
